(window["webpackJsonpbike-rental"]=window["webpackJsonpbike-rental"]||[]).push([[0],{20:function(e,t,a){e.exports=a(32)},25:function(e,t,a){},31:function(e){e.exports=JSON.parse('{"products":[{"id":1,"name":"Adult Male Bike","price":20.5,"image":"http://via.placeholder.com/250x250?text=Adult%20Male%20Bike","product_type":"bike"},{"id":2,"name":"Adult Female Bike","price":20.5,"image":"http://via.placeholder.com/250x250?text=Adult%20Female%20Bike","product_type":"bike"},{"id":3,"name":"Kids Unisex Bike","price":12.75,"image":"http://via.placeholder.com/250x250?text=Kids%20Unisex%20Bike","product_type":"bike"},{"id":4,"name":"Adult Unisex Helmet","price":4,"image":"http://via.placeholder.com/250x250?text=Adult%20Unisex%20Helmet","product_type":"accessory"},{"id":5,"name":"Kids Unisex Helmet","price":3.5,"image":"http://via.placeholder.com/250x250?text=Kids%20Unisex%20Helmet","product_type":"accessory"},{"id":6,"name":"Insurance","price":9.99,"image":"http://via.placeholder.com/250x250?text=Insurance","product_type":"addon"}]}')},32:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(15),l=a.n(c),i=(a(25),a(16)),o=a(5),u=a(9),s=a(6),d=function(e){var t=e.filter,a=e.setFilter;return n.a.createElement("section",{id:"filter-bar-wrapper"},n.a.createElement("div",{id:"title-filter"},"Filter By:"),n.a.createElement("div",{id:"filter-bar"},n.a.createElement("div",{onClick:function(e){return a("bike")},className:"bike"===t?"active":void 0},"Bikes"),n.a.createElement("div",{onClick:function(e){return a("accessory")},className:"accessory"===t?"active":void 0},"Helmets"),n.a.createElement("div",{onClick:function(e){return a("addon")},className:"addon"===t?"active":void 0},"Insurance"),n.a.createElement("div",{onClick:function(e){return a("none")}},"Reset")))},m=function(e){var t=e.products,a=e.filter,r=e.setProductSelect,c=e.withinFilter;return n.a.createElement("section",{id:"product-list"},t.map((function(e){return c(e,a)&&n.a.createElement("div",{key:e.id,className:"product",onClick:function(t){return r(e)}},n.a.createElement("div",{className:"product-image-wrapper"},n.a.createElement("img",{className:"product-image",src:e.image,alt:"product"})),n.a.createElement("div",{className:"product-info-wrapper"},n.a.createElement("div",{className:"product-name"},e.name),n.a.createElement("div",{className:"product-type"},e.product_type),n.a.createElement("div",{className:"product-price"},n.a.createElement("span",null,"$",e.price.toFixed(2)))))})))},p=a(19),v=function(e){var t=e.value,a=e.handleChange,r=e.numOptions,c=Object(p.a)(Array(r).keys()).map((function(e){return e+1}));return n.a.createElement("select",{value:t,onChange:a},c.map((function(e){return n.a.createElement("option",{key:e,value:e},e)})))},E=function(e){var t=e.node,a=e.numOptions,r=e.productSelect,c=e.quantity,l=e.setQuantity,i=e.handleCloseProductSelect,o=e.handleAddToCart;return n.a.createElement("div",null,n.a.createElement("div",{className:"popup-background"}),n.a.createElement("section",{id:"product-select",ref:t},n.a.createElement("div",{className:"product-close-wrapper"},n.a.createElement("div",{className:"product-close",onClick:function(e){return i()}},"X")),n.a.createElement("div",{className:"product-image-wrapper"},n.a.createElement("img",{className:"product-image",src:r.image,alt:"product"})),n.a.createElement("div",{className:"product-name"},r.name),n.a.createElement("div",{className:"product-type"},r.product_type),n.a.createElement("div",{className:"product-price"},n.a.createElement("span",null,"$",r.price.toFixed(2))),n.a.createElement("div",{className:"quantity-add-wrapper"},n.a.createElement("div",{className:"quantity-select"},n.a.createElement("span",null,"Quantity:"),n.a.createElement(v,{value:c,handleChange:function(e){var t=e.target;return l(Number(t.value))},numOptions:a})),n.a.createElement("div",{className:"cart-add-wrapper"},n.a.createElement("div",{onClick:function(e){return o(r.id,c)},className:"cart-add-button"},"Add to Cart")))))},f=function(e){var t=e.numOptions,a=e.products,c=e.productSelect,l=e.quantity,i=e.setProductSelect,u=e.setQuantity,s=e.handleCloseProductSelect,p=e.handleAddToCart,v=Object(r.useState)("none"),f=Object(o.a)(v,2),b=f[0],h=f[1],y=Object(r.useRef)(),k=function(e){y.current&&y.current.contains(e.target)||s()};return Object(r.useEffect)((function(){return document.addEventListener("mousedown",k),function(){document.removeEventListener("mousedown",k)}}),[]),n.a.createElement("div",null,n.a.createElement("div",{className:"page-title"},"Products"),n.a.createElement(d,{filter:b,setFilter:h}),n.a.createElement(m,{products:a,filter:b,setProductSelect:i,withinFilter:function(e,t){return"none"===t||e.product_type===t}}),null!==c&&n.a.createElement(E,{node:y,numOptions:t,productSelect:c,quantity:l,setQuantity:u,handleCloseProductSelect:s,handleAddToCart:p}))},b=function(e){var t=e.numOptions,a=e.productMap,c=e.bikeIds,l=e.cart,i=e.cartValid,u=e.handleQuantityChange,d=e.handleProductDelete,m=e.setCartValid,p=e.totalCalc,E=Object(r.useState)(!1),f=Object(o.a)(E,2),b=f[0],h=f[1];return Object(r.useEffect)((function(){!function(e){for(var t=Object.keys(e),a=!1,r=0;r<t.length;r+=1)if(c.includes(Number(t[r]))){a=!0;break}m(!!a)}(l)}),[l]),n.a.createElement("div",{id:"cart-page"},n.a.createElement("div",{className:"page-title"},"Cart"),b&&n.a.createElement("div",{id:"error-reminder"},"Need to add at least 1 bike to checkout!"),n.a.createElement("div",{id:"reminder"},"Reminder: You must add a bike in order to check out"),Object.keys(l).length>0&&n.a.createElement("div",{id:"cart-list-wrapper"},n.a.createElement("div",{id:"cart-list"},Object.keys(l).map((function(e){return n.a.createElement("div",{key:e,className:"cart-item"},n.a.createElement("div",{className:"product-wrapper"},n.a.createElement("div",{className:"product-image-wrapper"},n.a.createElement("img",{className:"product-image",src:a[e].image,alt:"product"})),n.a.createElement("div",{className:"product-info-wrapper"},n.a.createElement("div",{className:"product-name"},a[e].name),n.a.createElement("div",{className:"product-type"},a[e].product_type),n.a.createElement("div",{className:"product-price"},n.a.createElement("span",{className:"price-total"},"Price:"),n.a.createElement("span",{className:"dollar-amount"},"$",a[e].price.toFixed(2))),n.a.createElement("div",{className:"quantity-wrapper"},n.a.createElement("span",null,"Quantity:"),n.a.createElement(v,{value:l[e],handleChange:function(t){var a=t.target;return u(e,Number(a.value))},numOptions:t})),n.a.createElement("div",{className:"product-total"},n.a.createElement("span",{className:"price-total"},"SubTotal:"),n.a.createElement("span",{className:"dollar-amount"},"$",(a[e].price*l[e]).toFixed(2))),n.a.createElement("div",{className:"delete-wrapper"},n.a.createElement("div",{className:"product-delete",onClick:function(t){return d(e)}},"Remove item")))))}))),n.a.createElement("div",{className:"grand-total"},n.a.createElement("span",{className:"price-total"},"Total:"),n.a.createElement("span",null,"$",p(l))),n.a.createElement("div",{className:"checkout-wrapper"},n.a.createElement(s.b,{render:function(e){var t=e.history;return n.a.createElement("div",{onClick:function(){i?t.push("/checkout"):h(!0)},className:"checkout-button"},"Checkout")}}))),0===Object.keys(l).length&&n.a.createElement("div",{className:"noItems"},"No items in cart!"))},h=function(e){var t=e.cart,a=e.cartTotal,r=e.totalCalc;return n.a.createElement("div",{id:"checkout"},n.a.createElement("div",{className:"page-title"},"Checkout"),n.a.createElement("div",{className:"account-summary-wrapper"},n.a.createElement("div",{className:"create-account-link"},"Create an account"),n.a.createElement("div",{id:"order-summary"},n.a.createElement("div",{className:"quantity-total"},a," items"),n.a.createElement("div",{className:"grand-total"},n.a.createElement("span",{className:"price-total"},"Total:"),n.a.createElement("span",null,"$",r(t))))))};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=a(31).products,O=50;var g=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(1),i=Object(o.a)(l,2),d=i[0],m=i[1],p=Object(r.useState)({}),v=Object(o.a)(p,2),E=v[0],y=v[1],g=Object(r.useState)(0),w=Object(o.a)(g,2),j=w[0],C=w[1],x=Object(r.useState)(!1),S=Object(o.a)(x,2),P=S[0],A=S[1],F=function(){var e={};return N.forEach((function(t){e[t.id]=k({},t)})),e}(),B=function(){var e=[];return N.forEach((function(t){"bike"===t.product_type&&e.push(t.id)})),e}(),_=function(){c(null),m(1)},T=function(e){var t=0;if(Object.keys(e).length>0)return Object.keys(e).forEach((function(a){t+=e[a]})),C(t);C(0)},q=function(e,t){if(0!==t){var a=k({},E);a[e]?a[e]+=t:a[e]=t,y(a),T(a),_()}},Q=function(e,t){if(0!==t){var a=k({},E);a[e]=t,y(a),T(a)}},I=function(e){var t=k({},E);delete t[e],y(t),y(t),T(t)},$=function(e){var t=0;return Object.keys(e).forEach((function(a){t+=F[a].price*e[a]})),t.toFixed(2)};return Object(r.useEffect)((function(){T(E)}),[E]),n.a.createElement("div",{className:"content"},n.a.createElement(u.a,null,n.a.createElement("section",{id:"title-main"},"Amazing Bike Rentals"),n.a.createElement("section",{id:"nav"},n.a.createElement(u.b,{className:"homeLink",to:"/bike-rental"},"Home"),n.a.createElement(u.b,{className:"cartLink",to:"/cart"},j>0&&n.a.createElement("div",{className:"cart-total"},j),n.a.createElement("div",null,"Cart"))),n.a.createElement(s.a,{from:"/",to:"/bike-rental"}),n.a.createElement(s.b,{path:"/bike-rental",render:function(){return n.a.createElement(f,{products:N,numOptions:O,productSelect:a,quantity:d,setProductSelect:c,setQuantity:m,handleAddToCart:q,handleCloseProductSelect:_})}}),n.a.createElement(s.b,{path:"/cart",render:function(){return n.a.createElement(b,{numOptions:O,productMap:F,bikeIds:B,cart:E,cartValid:P,handleQuantityChange:Q,handleProductDelete:I,setCartValid:A,totalCalc:$})}}),n.a.createElement(s.b,{path:"/checkout",render:function(){return P?n.a.createElement(h,{cart:E,cartTotal:j,totalCalc:$}):n.a.createElement(s.a,{to:"/cart"})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.f920f410.chunk.js.map