(window["webpackJsonpbike-rental"]=window["webpackJsonpbike-rental"]||[]).push([[0],{20:function(e,t,a){e.exports=a(32)},25:function(e,t,a){},31:function(e){e.exports=JSON.parse('{"products":[{"id":1,"name":"Adult Male Bike","price":20.5,"image":"http://via.placeholder.com/250x250?text=Adult%20Male%20Bike","product_type":"bike"},{"id":2,"name":"Adult Female Bike","price":20.5,"image":"http://via.placeholder.com/250x250?text=Adult%20Female%20Bike","product_type":"bike"},{"id":3,"name":"Kids Unisex Bike","price":12.75,"image":"http://via.placeholder.com/250x250?text=Kids%20Unisex%20Bike","product_type":"bike"},{"id":4,"name":"Adult Unisex Helmet","price":4,"image":"http://via.placeholder.com/250x250?text=Adult%20Unisex%20Helmet","product_type":"accessory"},{"id":5,"name":"Kids Unisex Helmet","price":3.5,"image":"http://via.placeholder.com/250x250?text=Kids%20Unisex%20Helmet","product_type":"accessory"},{"id":6,"name":"Insurance","price":9.99,"image":"http://via.placeholder.com/250x250?text=Insurance","product_type":"addon"}]}')},32:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(15),l=a.n(n),i=(a(25),a(16)),o=a(5),u=a(9),s=a(6),d=function(e){var t=e.filter,a=e.setFilter;return r.a.createElement("section",{id:"filter-bar-wrapper"},r.a.createElement("div",{id:"title-filter"},"Filter By:"),r.a.createElement("div",{id:"filter-bar"},r.a.createElement("div",{onClick:function(e){return a("bike")},className:"bike"===t?"active":void 0},"Bikes"),r.a.createElement("div",{onClick:function(e){return a("accessory")},className:"accessory"===t?"active":void 0},"Helmets"),r.a.createElement("div",{onClick:function(e){return a("addon")},className:"addon"===t?"active":void 0},"Insurance"),r.a.createElement("div",{onClick:function(e){return a("none")}},"Reset")))},m=function(e){var t=e.products,a=e.filter,c=e.setProductSelect,n=e.withinFilter;return r.a.createElement("section",{id:"product-list"},t.map((function(e){return n(e,a)&&r.a.createElement("div",{key:e.id,className:"product",onClick:function(t){return c(e)}},r.a.createElement("div",{className:"product-image-wrapper"},r.a.createElement("img",{className:"product-image",src:e.image,alt:"product"})),r.a.createElement("div",{className:"product-info-wrapper"},r.a.createElement("div",{className:"product-name"},e.name),r.a.createElement("div",{className:"product-type"},e.product_type),r.a.createElement("div",{className:"product-price"},r.a.createElement("span",null,"$",e.price.toFixed(2)))))})))},p=a(19),v=function(e){var t=e.value,a=e.handleChange,c=e.numOptions,n=Object(p.a)(Array(c).keys()).map((function(e){return e+1}));return r.a.createElement("select",{value:t,onChange:a},n.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))},E=function(e){var t=e.node,a=e.numOptions,c=e.productSelect,n=e.quantity,l=e.setQuantity,i=e.handleCloseProductSelect,o=e.handleAddToCart;return r.a.createElement("div",null,r.a.createElement("div",{className:"popup-background"}),r.a.createElement("section",{id:"product-select",ref:t},r.a.createElement("div",{className:"product-close-wrapper"},r.a.createElement("div",{className:"product-close",onClick:function(e){return i()}},"X")),r.a.createElement("div",{className:"product-image-wrapper"},r.a.createElement("img",{className:"product-image",src:c.image,alt:"product"})),r.a.createElement("div",{className:"product-name"},c.name),r.a.createElement("div",{className:"product-type"},c.product_type),r.a.createElement("div",{className:"product-price"},r.a.createElement("span",null,"$",c.price.toFixed(2))),r.a.createElement("div",{className:"quantity-add-wrapper"},r.a.createElement("div",{className:"quantity-select"},r.a.createElement("span",null,"Quantity:"),r.a.createElement(v,{value:n,handleChange:function(e){var t=e.target;return l(Number(t.value))},numOptions:a})),r.a.createElement("div",{className:"cart-add-wrapper"},r.a.createElement("div",{onClick:function(e){return o(c.id,n)},className:"cart-add-button"},"Add to Cart")))))},f=function(e){var t=e.numOptions,a=e.products,n=e.productSelect,l=e.quantity,i=e.setProductSelect,u=e.setQuantity,s=e.handleCloseProductSelect,p=e.handleAddToCart,v=Object(c.useState)("none"),f=Object(o.a)(v,2),h=f[0],b=f[1],y=Object(c.useRef)(),N=function(e){y.current&&y.current.contains(e.target)||s()};return Object(c.useEffect)((function(){return document.addEventListener("mousedown",N),function(){document.removeEventListener("mousedown",N)}}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"page-title"},"Products"),r.a.createElement(d,{filter:h,setFilter:b}),r.a.createElement(m,{products:a,filter:h,setProductSelect:i,withinFilter:function(e,t){return"none"===t||e.product_type===t}}),null!==n&&r.a.createElement(E,{node:y,numOptions:t,productSelect:n,quantity:l,setQuantity:u,handleCloseProductSelect:s,handleAddToCart:p}))},h=function(e){var t=e.numOptions,a=e.productMap,n=e.bikeIds,l=e.cart,i=e.cartValid,u=e.handleQuantityChange,d=e.handleProductDelete,m=e.setCartValid,p=e.totalCalc,E=Object(c.useState)(!1),f=Object(o.a)(E,2),h=f[0],b=f[1];return Object(c.useEffect)((function(){!function(e){for(var t=Object.keys(e),a=!1,c=0;c<t.length;c+=1)if(n.includes(Number(t[c]))){a=!0;break}m(!!a)}(l)}),[l]),r.a.createElement("div",{id:"cart-page"},r.a.createElement("div",{className:"page-title"},"Cart"),h&&r.a.createElement("div",{id:"error-reminder"},"Need to add at least 1 bike to checkout!"),r.a.createElement("div",{id:"reminder"},"Reminder: You must add a bike in order to check out"),Object.keys(l).length>0&&r.a.createElement("div",{id:"cart-list-wrapper"},r.a.createElement("div",{id:"cart-list"},Object.keys(l).map((function(e){return r.a.createElement("div",{key:e,className:"cart-item"},r.a.createElement("div",{className:"product-wrapper"},r.a.createElement("div",{className:"product-image-wrapper"},r.a.createElement("img",{className:"product-image",src:a[e].image,alt:"product"})),r.a.createElement("div",{className:"product-info-wrapper"},r.a.createElement("div",{className:"product-name"},a[e].name),r.a.createElement("div",{className:"product-type"},a[e].product_type),r.a.createElement("div",{className:"product-price"},r.a.createElement("span",{className:"price-total"},"Price:"),r.a.createElement("span",{className:"dollar-amount"},"$",a[e].price.toFixed(2))),r.a.createElement("div",{className:"quantity-wrapper"},r.a.createElement("span",null,"Quantity:"),r.a.createElement(v,{value:l[e],handleChange:function(t){var a=t.target;return u(e,Number(a.value))},numOptions:t})),r.a.createElement("div",{className:"product-total"},r.a.createElement("span",{className:"price-total"},"SubTotal:"),r.a.createElement("span",{className:"dollar-amount"},"$",(a[e].price*l[e]).toFixed(2))),r.a.createElement("div",{className:"delete-wrapper"},r.a.createElement("div",{className:"product-delete",onClick:function(t){return d(e)}},"Remove item")))))}))),r.a.createElement("div",{className:"grand-total"},r.a.createElement("span",{className:"price-total"},"Total:"),r.a.createElement("span",null,"$",p(l))),r.a.createElement("div",{className:"checkout-wrapper"},r.a.createElement(s.b,{render:function(e){var t=e.history;return r.a.createElement("div",{onClick:function(){i?t.push("/checkout"):b(!0)},className:"checkout-button"},"Checkout")}}))),0===Object.keys(l).length&&r.a.createElement("div",{className:"noItems"},"No items in cart!"))},b=function(e){var t=e.cart,a=e.cartTotal,c=e.totalCalc;return r.a.createElement("div",{id:"checkout"},r.a.createElement("div",{className:"page-title"},"Checkout"),r.a.createElement("div",{className:"account-summary-wrapper"},r.a.createElement("div",{className:"create-account-link"},"Create an account"),r.a.createElement("div",{id:"order-summary"},r.a.createElement("div",{className:"quantity-total"},a," items"),r.a.createElement("div",{className:"grand-total"},r.a.createElement("span",{className:"price-total"},"Total:"),r.a.createElement("span",null,"$",c(t))))))};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=a(31).products,O=50;var g=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),a=t[0],n=t[1],l=Object(c.useState)(1),i=Object(o.a)(l,2),d=i[0],m=i[1],p=Object(c.useState)({}),v=Object(o.a)(p,2),E=v[0],y=v[1],g=Object(c.useState)(0),w=Object(o.a)(g,2),j=w[0],C=w[1],x=Object(c.useState)(!1),S=Object(o.a)(x,2),P=S[0],A=S[1],F=function(){var e={};return k.forEach((function(t){e[t.id]=N({},t)})),e}(),B=function(){var e=[];return k.forEach((function(t){"bike"===t.product_type&&e.push(t.id)})),e}(),_=function(){n(null),m(1)},T=function(e){var t=0;if(Object.keys(e).length>0)return Object.keys(e).forEach((function(a){t+=e[a]})),C(t);C(0)},q=function(e,t){if(0!==t){var a=N({},E);a[e]?a[e]+=t:a[e]=t,y(a),T(a),_()}},Q=function(e,t){if(0!==t){var a=N({},E);a[e]=t,y(a),T(a)}},I=function(e){var t=N({},E);delete t[e],y(t),y(t),T(t)},$=function(e){var t=0;return Object.keys(e).forEach((function(a){t+=F[a].price*e[a]})),t.toFixed(2)};return Object(c.useEffect)((function(){T(E)}),[E]),r.a.createElement("div",{className:"content"},r.a.createElement(u.a,null,r.a.createElement("section",{id:"title-main"},"Amazing Bike Rentals"),r.a.createElement("section",{id:"nav"},r.a.createElement(u.b,{className:"homeLink",to:"/"},"Home"),r.a.createElement(u.b,{className:"cartLink",to:"/cart"},j>0&&r.a.createElement("div",{className:"cart-total"},j),r.a.createElement("div",null,"Cart"))),r.a.createElement(s.b,{exact:!0,path:"/",render:function(){return r.a.createElement(f,{products:k,numOptions:O,productSelect:a,quantity:d,setProductSelect:n,setQuantity:m,handleAddToCart:q,handleCloseProductSelect:_})}}),r.a.createElement(s.b,{path:"/cart",render:function(){return r.a.createElement(h,{numOptions:O,productMap:F,bikeIds:B,cart:E,cartValid:P,handleQuantityChange:Q,handleProductDelete:I,setCartValid:A,totalCalc:$})}}),r.a.createElement(s.b,{path:"/checkout",render:function(){return P?r.a.createElement(b,{cart:E,cartTotal:j,totalCalc:$}):r.a.createElement(s.a,{to:"/cart"})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.60a24c07.chunk.js.map